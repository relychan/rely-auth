# yaml-language-server: $schema=../../jsonschema/auth.schema.json
definitions:
  - mode: apiKey
    in: header
    name: Authorization
    description: Authorization for API Key
    value:
      value: "randomsecret"
    sessionVariables: {}
  - mode: jwt
    tokenLocation:
      in: header
      name: Authorization
    key:
      algorithm: HS256
      key:
        value: randomsecrettoken
    allowedSkew: 60
    audience: ["audA", "audB"]
    issuer: relychan.com
    claimsConfig:
      namespace:
        location: '"claims.jwt.hasura.io"'
        claimsFormat: Json
      locations:
        x-hasura-default-role:
          path: foo
          default:
            value: bar
        x-hasura-allowed-roles:
          default:
            value: [bar, baz]
  - mode: webhook
    url:
      value: http://auth_hook:3050/validate-request
    method: POST
    customRequest:
      headers:
        forward:
          - Authorization
        additional:
          user-agent:
            default:
              value: hasura-ddn
      body:
        type: jmespath
        template:
          properties: {}
          type: object
